<div class="component-start mat-typography" *ngIf="athlete">
  <app-top-toolbar [titlestring]="'Athlete: ' + athlete.firstName + ' ' + athlete.lastName" [color]="'primary'"></app-top-toolbar>
  <div class="component-body">
    <mat-tab-group>
      <mat-tab label="Meets">
        <p *ngIf="!meets || meets.length == 0">No meets!?<br /> go out there and get running!</p>
        <mat-card *ngFor="let meet of meets">
          <app-meet [meetObj]="meet"></app-meet>
        </mat-card>
      </mat-tab>
      <mat-tab label="Events">
        <h2 class="title">Event Types <button mat-button color="accent" (click)="addEventType()">add an event <mat-icon>add</mat-icon></button></h2>
        <!--<mat-card *ngFor="let type of eventTypes">-->
          <!--<mat-card-title>{{type}} <button mat-button color="accent" (click)="addEventType(type)">add a score  <mat-icon>add</mat-icon></button></mat-card-title>-->
          <!--<div *ngFor="let event of athlete.events[type]">{{event.date}} {{event.score}}</div>-->
        <!--</mat-card>-->
          <mat-card *ngFor="let type of eventTypes; let i = index">
          <mat-card-title>{{type}} <span class="primary-pill d-inline-block">PR: {{dataSource[i].data | topScore}}</span> <button mat-button color="accent" (click)="addEventType(type)">add a score  <mat-icon>add</mat-icon></button></mat-card-title>
            <!--<div *ngFor="let event of eventTypes[]">{{event.date | date:'short'}} {{event.score}}</div>-->
            <mat-table #table [dataSource]="dataSource[i]" matSort (matSortChange)="sortTableData($event, table)">
              <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.date | date:'short'}} </mat-cell>
              </ng-container>
              <ng-container matColumnDef="score">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Score </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.score}} </mat-cell>
              </ng-container>
              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
        </mat-card>
      </mat-tab>
    </mat-tab-group>


  </div>
</div>

